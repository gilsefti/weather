{"ast":null,"code":"import _slicedToArray from \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\src\\\\Players.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport Home from './Home';\nimport App from './App';\nimport logo from \"./logo.svg\";\nimport './Players.css';\nvar test = 0;\nconst testData = [{\n  ID: 1,\n  IDC: \"324\",\n  Name: \"gilad\",\n  Email: \"gil@yaho.com\",\n  BirthDate: new Date(2018, 11, 24),\n  Gender: \"Male\",\n  Phone: \"09234\"\n}, {\n  ID: 2,\n  IDC: \"323444\",\n  Name: \"or\"\n}];\n\nconst TableHeader = () => {\n  return React.createElement(\"div\", {\n    class: \"tr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"ID\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"BirthDate\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Gender\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Phone\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Save\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Delete\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"History\"));\n};\n\nconst Hist = props => {\n  const history = useHistory();\n\n  function handleHistory(event) {\n    event.preventDefault();\n    console.log(\"History\");\n    history.push({\n      pathname: '/tiktak',\n      state: {\n        detail: response.data\n      }\n    }); //  history.push(\"/home\");\n  }\n\n  return React.createElement(\"button\", {\n    onClick: handleHistory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Home\");\n};\n\nclass OneCient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      client: this.props.Client\n    };\n    this.errors = {};\n    this.formErros = \"\";\n\n    this.OnSave = async event => {\n      event.preventDefault();\n      var formErrors = this.handleValidation();\n\n      if (!formErrors) {\n        console.log(\"Form submitted\");\n        alert(\"Form submitted\");\n      } else {\n        console.log(\"Form error\");\n        alert(formErrors);\n        return;\n      }\n\n      if (test == 0) {\n        const resp = axios.post('http://localhost:58546/api/players', {\n          client: this.state.client\n        });\n      }\n\n      console.log(this.state.client);\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.OnSave = this.OnSave.bind(this);\n    this.handleValidation = this.handleValidation.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    console.log(props, \"props\");\n    console.log(this.state, \"state\");\n    console.log(this.state.client, \"state1\");\n  }\n\n  handleValidation() {\n    var formErrors = \"\";\n    return formErrors;\n\n    if (!this.state.client[\"Name\"]) {\n      formErrors = \"Name Required\";\n    }\n\n    if (!this.state.client[\"IDC\"]) {\n      formErrors = \"ID Required\";\n    }\n\n    if (!this.state.client[\"BirthDate\"]) {\n      formErrors = \"Birth Date Required\";\n    }\n\n    var email = this.state.client[\"Email\"];\n\n    if (email) {\n      let lastAtPos = email.lastIndexOf('@');\n      let lastDotPos = email.lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && email.indexOf('@@') == -1 && lastDotPos > 2 && email.length - lastDotPos > 2)) {\n        formErrors = \"Email is not valid\";\n      }\n    }\n\n    var phone = this.state.client[\"Phone\"];\n\n    if (phone) {\n      if (isNaN(phone)) formErrors = \"Phone only digits\";\n      var Idc = this.state.client[\"IDC\"];\n      if (Idc) if (isNaN(Idc)) formErrors = \"Id only digits\";\n    }\n\n    return formErrors;\n  }\n\n  handleChange(evt) {\n    const value = evt.target.value;\n    const client = this.state.client;\n    client[evt.target.name] = value;\n    this.setState({\n      client: client\n    });\n  } //const [client, setClient] = useState(props.Client);\n\n\n  async handleDelete(event) {\n    event.preventDefault();\n    console.log(\"Delete\");\n    const resp = await axios.delete(`http://localhost:58546/api/players/${this.state.client.ID}`);\n    getData(this.props.getData);\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      class: \"tr\",\n      onSubmit: this.OnSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"id\",\n      name: \"id\",\n      value: this.state.client.ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.IDC,\n      name: \"IDC\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.Name,\n      onChange: this.handleChange,\n      name: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      value: this.state.client.Email,\n      onChange: this.handleChange,\n      name: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      value: this.state.client.BirthDate,\n      onChange: this.handleChange,\n      name: \"BirthDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"Gender\",\n      value: this.state.client.Gender,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NotSelected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \" \"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Other\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"Other\"))), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.Phone,\n      onChange: this.handleChange,\n      name: \"Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      onClick: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \" \", React.createElement(Hist, {\n      client: this.state.client,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst TableValues = props => {\n  return props.clients.map(client => React.createElement(OneCient, {\n    Client: client,\n    getData: props.getData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }));\n};\n\nconst AddClient = props => {\n  return React.createElement(\"button\", {\n    onClick: () => props.addClient(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Add\");\n};\n\nconst getData = async myGetData => {\n  var data;\n  if (test == 1) data = testData;else {\n    const resp = await axios.get(`http://localhost:58546/api/players`);\n    data = resp.data;\n  }\n  myGetData(data);\n};\n\nconst GetClients = props => {\n  return React.createElement(\"button\", {\n    onClick: () => getData(props.onClickClients),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  }, \"Get Clients\");\n};\n\nconst Tester = () => {\n  const history = useHistory();\n  return React.createElement(\"button\", {\n    onClick: () => history.push(\"/tiktak\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, \"Home\");\n};\n\nfunction Players() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        readClients = _useState2[0],\n        setReadClients = _useState2[1];\n\n  const history = useHistory();\n\n  const onAddClient = () => {\n    setReadClients(readClients.concat({}));\n  };\n\n  const onGetData = clientsArray => {\n    console.log(clientsArray);\n    setReadClients(clientsArray);\n  }; //getData(onGetData);\n\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"App-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => history.push(\"/tiktak\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240\n    },\n    __self: this\n  }, \"Home\"), React.createElement(GetClients, {\n    onClickClients: onGetData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241\n    },\n    __self: this\n  }), React.createElement(AddClient, {\n    addClient: onAddClient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(Tester, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    class: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, React.createElement(TableHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247\n    },\n    __self: this\n  }), React.createElement(TableValues, {\n    clients: readClients,\n    getData: onGetData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }))));\n}\n\nexport default Players;","map":{"version":3,"sources":["C:/dev/react/Players/myclients/src/Players.js"],"names":["React","useState","axios","useHistory","Home","App","test","testData","ID","IDC","Name","Email","BirthDate","Date","Gender","Phone","TableHeader","Hist","props","history","handleHistory","event","preventDefault","console","log","push","pathname","state","detail","response","data","OneCient","Component","constructor","client","Client","errors","formErros","OnSave","formErrors","handleValidation","alert","resp","post","handleChange","bind","handleDelete","email","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","phone","isNaN","Idc","evt","value","target","name","setState","delete","getData","render","TableValues","clients","map","AddClient","addClient","myGetData","get","GetClients","onClickClients","Tester","Players","readClients","setReadClients","onAddClient","concat","onGetData","clientsArray"],"mappings":"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","sourcesContent":["\r\nimport React, { useState } from 'react';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Home from './Home'\r\nimport App from './App'\r\nimport logo from './logo.svg';\r\nimport './Players.css';\r\n\r\nvar test = 0;\r\n\r\nconst testData = [{\r\n    ID: 1,\r\n    IDC: \"324\",\r\n    Name: \"gilad\",\r\n    Email: \"gil@yaho.com\",\r\n    BirthDate: new Date(2018, 11, 24),\r\n    Gender: \"Male\",\r\n    Phone: \"09234\"\r\n},\r\n{\r\n    ID: 2,\r\n    IDC: \"323444\",\r\n    Name: \"or\",\r\n}]\r\nconst TableHeader = () => {\r\n    return (\r\n\r\n        <div class=\"tr\">\r\n            <span class=\"td\">ID</span>\r\n            <span class=\"td\">Name</span>\r\n            <span class=\"td\">Email</span>\r\n            <span class=\"td\">BirthDate</span>\r\n            <span class=\"td\">Gender</span>\r\n            <span class=\"td\">Phone</span>\r\n            <span class=\"td\">Save</span>\r\n            <span class=\"td\">Delete</span>\r\n            <span class=\"td\">History</span>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst Hist = (props) => {\r\n    const history = useHistory();\r\n    function handleHistory(event) {\r\n        event.preventDefault();\r\n        console.log(\"History\");\r\n        history.push({\r\n            pathname: '/tiktak',\r\n            state: { detail: response.data }\r\n        });\r\n        //  history.push(\"/home\");\r\n    }\r\n\r\n    return (\r\n        <button onClick={handleHistory}>Home</button>\r\n    );\r\n\r\n}\r\nclass OneCient extends React.Component {\r\n    state = { client: this.props.Client };\r\n    errors = {};\r\n    formErros = \"\";\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.OnSave = this.OnSave.bind(this);\r\n        this.handleValidation = this.handleValidation.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n\r\n\r\n        console.log(props, \"props\");\r\n        console.log(this.state, \"state\");\r\n        console.log(this.state.client, \"state1\")\r\n    };\r\n\r\n    handleValidation() {\r\n        var formErrors = \"\";\r\n        return formErrors;\r\n        if (!this.state.client[\"Name\"]) {\r\n            formErrors = \"Name Required\";\r\n        }\r\n        if (!this.state.client[\"IDC\"]) {\r\n            formErrors = \"ID Required\";\r\n        }\r\n        if (!this.state.client[\"BirthDate\"]) {\r\n            formErrors = \"Birth Date Required\";\r\n        }\r\n        var email = this.state.client[\"Email\"];\r\n        if (email) {\r\n            let lastAtPos = email.lastIndexOf('@');\r\n            let lastDotPos = email.lastIndexOf('.');\r\n\r\n            if (!(lastAtPos < lastDotPos && lastAtPos > 0 && email.indexOf('@@') == -1 && lastDotPos > 2 && (email.length - lastDotPos) > 2)) {\r\n                formErrors = \"Email is not valid\";\r\n            }\r\n        }\r\n        var phone = this.state.client[\"Phone\"];\r\n\r\n        if (phone) {\r\n            if (isNaN(phone))\r\n                formErrors = \"Phone only digits\";\r\n\r\n            var Idc = this.state.client[\"IDC\"];\r\n            if (Idc)\r\n                if (isNaN(Idc))\r\n                    formErrors = \"Id only digits\";\r\n        }\r\n        return formErrors;\r\n    }\r\n\r\n\r\n    handleChange(evt) {\r\n        const value = evt.target.value;\r\n        const client = this.state.client;\r\n        client[evt.target.name] = value;\r\n        this.setState({ client: client });\r\n    }\r\n\r\n    //const [client, setClient] = useState(props.Client);\r\n    OnSave = async (event) => {\r\n\r\n\r\n        event.preventDefault();\r\n        var formErrors = this.handleValidation();\r\n        if (!formErrors) {\r\n            console.log(\"Form submitted\");\r\n            alert(\"Form submitted\");\r\n        } else {\r\n            console.log(\"Form error\");\r\n            alert(formErrors)\r\n            return;\r\n        }\r\n        if (test == 0) {\r\n            const resp = axios.post('http://localhost:58546/api/players', { client: this.state.client });\r\n        }\r\n        console.log(this.state.client);\r\n    }\r\n    async handleDelete(event) {\r\n        event.preventDefault();\r\n        console.log(\"Delete\");\r\n        const resp = await axios.delete(`http://localhost:58546/api/players/${this.state.client.ID}`);\r\n        getData(this.props.getData);\r\n    }\r\n    render() {\r\n        return (\r\n            <form class=\"tr\" onSubmit={this.OnSave} >\r\n                <span class=\"td\">\r\n                    <input type=\"hidden\" id=\"id\" name=\"id\" value={this.state.client.ID} />\r\n                    <input type=\"text\" value={this.state.client.IDC}\r\n                        name=\"IDC\"\r\n                        onChange={this.handleChange}\r\n                    /></span>\r\n                <span class=\"td\"><input type=\"text\" value={this.state.client.Name}\r\n                    onChange={this.handleChange}\r\n                    name=\"Name\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"email\" value={this.state.client.Email}\r\n                    onChange={this.handleChange}\r\n                    name=\"Email\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"date\" value={this.state.client.BirthDate}\r\n                    onChange={this.handleChange}\r\n                    name=\"BirthDate\"\r\n                /></span>\r\n                <span class=\"td\">\r\n                    <select name=\"Gender\" value={this.state.client.Gender}\r\n                        onChange={this.handleChange}>\r\n                        <option value=\"NotSelected\"> </option>\r\n                        <option value=\"Male\">Male</option>\r\n                        <option value=\"Female\">Female</option>\r\n                        <option value=\"Other\">Other</option>\r\n                    </select>\r\n                </span>\r\n                <span class=\"td\"><input type=\"text\" value={this.state.client.Phone}\r\n                    onChange={this.handleChange}\r\n                    name=\"Phone\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"submit\" value=\"Save\" /></span>\r\n                <span class=\"td\"> <button onClick={this.handleDelete}>Delete</button></span>\r\n                <span class=\"td\"> <Hist client={this.state.client} /></span>\r\n            </form>\r\n        )\r\n    }\r\n}\r\nconst TableValues = (props) => {\r\n    return (props.clients.map(client => <OneCient Client={client} getData={props.getData} />));\r\n}\r\nconst AddClient = (props) => {\r\n    return (\r\n        <button\r\n            onClick={() => props.addClient()}\r\n        >Add</button>\r\n    )\r\n}\r\nconst getData = async (myGetData) => {\r\n    var data;\r\n    if (test == 1)\r\n        data = testData;\r\n    else {\r\n        const resp = await axios.get(`http://localhost:58546/api/players`);\r\n        data = resp.data;\r\n    }\r\n    myGetData(data);\r\n}\r\nconst GetClients = (props) => {\r\n    return (\r\n\r\n        <button\r\n            onClick={() => getData(props.onClickClients)}\r\n        >Get Clients</button>\r\n    )\r\n}\r\nconst Tester = () => {\r\n    const history = useHistory();\r\n    return (\r\n\r\n        <button onClick={() => history.push(\"/tiktak\")}>Home</button>\r\n    );\r\n}\r\n\r\nfunction Players() {\r\n    const [readClients, setReadClients] = useState([]);\r\n    const history = useHistory();\r\n    const onAddClient = () => { setReadClients(readClients.concat({})) }\r\n    const onGetData = (clientsArray) => {\r\n        console.log(clientsArray);\r\n        setReadClients(clientsArray);\r\n    }\r\n\r\n    //getData(onGetData);\r\n    return (\r\n        <div className=\"App\">\r\n            <header className=\"App-header\">\r\n                <div>\r\n                    <button onClick={() => history.push(\"/tiktak\")}>Home</button>\r\n                    <GetClients onClickClients={onGetData} />\r\n                    <AddClient addClient={onAddClient} />\r\n                    <Tester />\r\n                </div>\r\n\r\n                <div class=\"table\">\r\n                    <TableHeader />\r\n                    <TableValues clients={readClients} getData={onGetData} />\r\n                </div>\r\n            </header>\r\n        </div>\r\n    );\r\n}\r\nexport default Players;\r\n"]},"metadata":{},"sourceType":"module"}