{"ast":null,"code":"import _slicedToArray from \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\src\\\\Players.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useHistory } from \"react-router-dom\";\nimport Home from './Home';\nimport logo from \"./logo.svg\";\nimport './Players.css';\nvar test = 0;\nconst testData = [{\n  ID: 1,\n  IDC: \"324\",\n  Name: \"gilad\",\n  Email: \"gil@yaho.com\",\n  BirthDate: new Date(2018, 11, 24),\n  Gender: \"Male\",\n  Phone: \"09234\"\n}, {\n  ID: 2,\n  IDC: \"323444\",\n  Name: \"or\"\n}];\n\nconst TableHeader = () => {\n  return React.createElement(\"div\", {\n    class: \"tr\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"ID\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Name\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Email\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"BirthDate\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Gender\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Phone\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Save\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Delete\"), React.createElement(\"span\", {\n    class: \"td\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"History\"));\n};\n\nclass OneCient extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      client: this.props.Client\n    };\n    this.errors = {};\n    this.formErros = \"\";\n\n    this.OnSave = async event => {\n      event.preventDefault();\n      var formErrors = this.handleValidation();\n\n      if (!formErrors) {\n        console.log(\"Form submitted\");\n        alert(\"Form submitted\");\n      } else {\n        console.log(\"Form error\");\n        alert(formErrors);\n        return;\n      }\n\n      if (test == 0) {\n        const resp = axios.post('http://localhost:58546/api/players', {\n          client: this.state.client\n        });\n      }\n\n      console.log(this.state.client);\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.OnSave = this.OnSave.bind(this);\n    this.handleValidation = this.handleValidation.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n    console.log(props, \"props\");\n    console.log(this.state, \"state\");\n    console.log(this.state.client, \"state1\");\n  }\n\n  handleValidation() {\n    var formErrors = \"\";\n    return formErrors;\n\n    if (!this.state.client[\"Name\"]) {\n      formErrors = \"Name Required\";\n    }\n\n    if (!this.state.client[\"IDC\"]) {\n      formErrors = \"ID Required\";\n    }\n\n    if (!this.state.client[\"BirthDate\"]) {\n      formErrors = \"Birth Date Required\";\n    }\n\n    var email = this.state.client[\"Email\"];\n\n    if (email) {\n      let lastAtPos = email.lastIndexOf('@');\n      let lastDotPos = email.lastIndexOf('.');\n\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && email.indexOf('@@') == -1 && lastDotPos > 2 && email.length - lastDotPos > 2)) {\n        formErrors = \"Email is not valid\";\n      }\n    }\n\n    var phone = this.state.client[\"Phone\"];\n\n    if (phone) {\n      if (isNaN(phone)) formErrors = \"Phone only digits\";\n      var Idc = this.state.client[\"IDC\"];\n      if (Idc) if (isNaN(Idc)) formErrors = \"Id only digits\";\n    }\n\n    return formErrors;\n  }\n\n  handleChange(evt) {\n    const value = evt.target.value;\n    const client = this.state.client;\n    client[evt.target.name] = value;\n    this.setState({\n      client: client\n    });\n  }\n\n  handleHistory(event) {\n    event.preventDefault();\n    console.log(\"History\"); //  history.push(\"/home\");\n  } //const [client, setClient] = useState(props.Client);\n\n\n  async handleDelete(event) {\n    event.preventDefault();\n    console.log(\"Delete\");\n    const resp = await axios.delete(`http://localhost:58546/api/players/${this.state.client.ID}`);\n    getData(this.props.getData);\n  }\n\n  render() {\n    return React.createElement(\"form\", {\n      class: \"tr\",\n      onSubmit: this.OnSave,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"hidden\",\n      id: \"id\",\n      name: \"id\",\n      value: this.state.client.ID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.IDC,\n      name: \"IDC\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.Name,\n      onChange: this.handleChange,\n      name: \"Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"email\",\n      value: this.state.client.Email,\n      onChange: this.handleChange,\n      name: \"Email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"date\",\n      value: this.state.client.BirthDate,\n      onChange: this.handleChange,\n      name: \"BirthDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"select\", {\n      name: \"Gender\",\n      value: this.state.client.Gender,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"NotSelected\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \" \"), React.createElement(\"option\", {\n      value: \"Male\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Male\"), React.createElement(\"option\", {\n      value: \"Female\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Female\"), React.createElement(\"option\", {\n      value: \"Other\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Other\"))), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.client.Phone,\n      onChange: this.handleChange,\n      name: \"Phone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      onClick: this.handleDelete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Delete\")), React.createElement(\"span\", {\n      class: \"td\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \" \", React.createElement(\"button\", {\n      onClick: this.handleHistory,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"History\")));\n  }\n\n}\n\nconst TableValues = props => {\n  return props.clients.map(client => React.createElement(OneCient, {\n    Client: client,\n    getData: props.getData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }));\n};\n\nconst AddClient = props => {\n  return React.createElement(\"button\", {\n    onClick: () => props.addClient(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, \"Add\");\n};\n\nconst getData = async myGetData => {\n  var data;\n  if (test == 1) data = testData;else {\n    const resp = await axios.get(`http://localhost:58546/api/players`);\n    data = resp.data;\n  }\n  myGetData(data);\n};\n\nconst GetClients = props => {\n  return React.createElement(\"button\", {\n    onClick: () => getData(props.onClickClients),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, \"Get Clients\");\n};\n\nfunction Players() {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        readClients = _useState2[0],\n        setReadClients = _useState2[1];\n\n  let history = useHistory();\n\n  const onAddClient = () => {\n    setReadClients(readClients.concat({}));\n  };\n\n  const onGetData = clientsArray => {\n    console.log(clientsArray);\n    setReadClients(clientsArray);\n  }; //getData(onGetData);\n\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    className: \"App-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => history.push(\"home\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \"Home\"), React.createElement(GetClients, {\n    onClickClients: onGetData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }), React.createElement(AddClient, {\n    addClient: onAddClient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    class: \"table\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }, React.createElement(TableHeader, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224\n    },\n    __self: this\n  }), React.createElement(TableValues, {\n    clients: readClients,\n    getData: onGetData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }))));\n}\n\nexport default Players;","map":{"version":3,"sources":["C:/dev/react/Players/myclients/src/Players.js"],"names":["React","useState","axios","useHistory","Home","test","testData","ID","IDC","Name","Email","BirthDate","Date","Gender","Phone","TableHeader","OneCient","Component","constructor","props","state","client","Client","errors","formErros","OnSave","event","preventDefault","formErrors","handleValidation","console","log","alert","resp","post","handleChange","bind","handleDelete","email","lastAtPos","lastIndexOf","lastDotPos","indexOf","length","phone","isNaN","Idc","evt","value","target","name","setState","handleHistory","delete","getData","render","TableValues","clients","map","AddClient","addClient","myGetData","data","get","GetClients","onClickClients","Players","readClients","setReadClients","history","onAddClient","concat","onGetData","clientsArray","push"],"mappings":"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","sourcesContent":["\r\nimport React, { useState } from 'react';\r\n\r\n\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Home from './Home'\r\nimport logo from './logo.svg';\r\nimport './Players.css';\r\n\r\nvar test = 0;\r\n\r\nconst testData = [{\r\n    ID: 1,\r\n    IDC: \"324\",\r\n    Name: \"gilad\",\r\n    Email: \"gil@yaho.com\",\r\n    BirthDate: new Date(2018, 11, 24),\r\n    Gender: \"Male\",\r\n    Phone: \"09234\"\r\n},\r\n{\r\n    ID: 2,\r\n    IDC: \"323444\",\r\n    Name: \"or\",\r\n}]\r\nconst TableHeader = () => {\r\n    return (\r\n\r\n        <div class=\"tr\">\r\n            <span class=\"td\">ID</span>\r\n            <span class=\"td\">Name</span>\r\n            <span class=\"td\">Email</span>\r\n            <span class=\"td\">BirthDate</span>\r\n            <span class=\"td\">Gender</span>\r\n            <span class=\"td\">Phone</span>\r\n            <span class=\"td\">Save</span>\r\n            <span class=\"td\">Delete</span>\r\n            <span class=\"td\">History</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass OneCient extends React.Component {\r\n    state = { client: this.props.Client };\r\n    errors = {};\r\n    formErros = \"\";\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleChange = this.handleChange.bind(this);\r\n        this.OnSave = this.OnSave.bind(this);\r\n        this.handleValidation = this.handleValidation.bind(this);\r\n        this.handleDelete = this.handleDelete.bind(this);\r\n\r\n        console.log(props, \"props\");\r\n        console.log(this.state, \"state\");\r\n        console.log(this.state.client, \"state1\")\r\n    };\r\n\r\n    handleValidation() {\r\n        var formErrors = \"\";\r\n        return formErrors;\r\n        if (!this.state.client[\"Name\"]) {\r\n            formErrors = \"Name Required\";\r\n        }\r\n        if (!this.state.client[\"IDC\"]) {\r\n            formErrors = \"ID Required\";\r\n        }\r\n        if (!this.state.client[\"BirthDate\"]) {\r\n            formErrors = \"Birth Date Required\";\r\n        }\r\n        var email = this.state.client[\"Email\"];\r\n        if (email) {\r\n            let lastAtPos = email.lastIndexOf('@');\r\n            let lastDotPos = email.lastIndexOf('.');\r\n\r\n            if (!(lastAtPos < lastDotPos && lastAtPos > 0 && email.indexOf('@@') == -1 && lastDotPos > 2 && (email.length - lastDotPos) > 2)) {\r\n                formErrors = \"Email is not valid\";\r\n            }\r\n        }\r\n        var phone = this.state.client[\"Phone\"];\r\n\r\n        if (phone) {\r\n            if (isNaN(phone))\r\n                formErrors = \"Phone only digits\";\r\n\r\n            var Idc = this.state.client[\"IDC\"];\r\n            if (Idc)\r\n                if (isNaN(Idc))\r\n                    formErrors = \"Id only digits\";\r\n        }\r\n        return formErrors;\r\n    }\r\n\r\n\r\n    handleChange(evt) {\r\n        const value = evt.target.value;\r\n        const client = this.state.client;\r\n        client[evt.target.name] = value;\r\n        this.setState({ client: client });\r\n    }\r\n    handleHistory(event) {\r\n        event.preventDefault();\r\n        console.log(\"History\");\r\n        //  history.push(\"/home\");\r\n    }\r\n    //const [client, setClient] = useState(props.Client);\r\n    OnSave = async (event) => {\r\n\r\n\r\n        event.preventDefault();\r\n        var formErrors = this.handleValidation();\r\n        if (!formErrors) {\r\n            console.log(\"Form submitted\");\r\n            alert(\"Form submitted\");\r\n        } else {\r\n            console.log(\"Form error\");\r\n            alert(formErrors)\r\n            return;\r\n        }\r\n        if (test == 0) {\r\n            const resp = axios.post('http://localhost:58546/api/players', { client: this.state.client });\r\n        }\r\n        console.log(this.state.client);\r\n    }\r\n    async handleDelete(event) {\r\n        event.preventDefault();\r\n        console.log(\"Delete\");\r\n        const resp = await axios.delete(`http://localhost:58546/api/players/${this.state.client.ID}`);\r\n        getData(this.props.getData);\r\n    }\r\n    render() {\r\n        return (\r\n            <form class=\"tr\" onSubmit={this.OnSave} >\r\n                <span class=\"td\">\r\n                    <input type=\"hidden\" id=\"id\" name=\"id\" value={this.state.client.ID} />\r\n                    <input type=\"text\" value={this.state.client.IDC}\r\n                        name=\"IDC\"\r\n                        onChange={this.handleChange}\r\n                    /></span>\r\n                <span class=\"td\"><input type=\"text\" value={this.state.client.Name}\r\n                    onChange={this.handleChange}\r\n                    name=\"Name\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"email\" value={this.state.client.Email}\r\n                    onChange={this.handleChange}\r\n                    name=\"Email\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"date\" value={this.state.client.BirthDate}\r\n                    onChange={this.handleChange}\r\n                    name=\"BirthDate\"\r\n                /></span>\r\n                <span class=\"td\">\r\n                    <select name=\"Gender\" value={this.state.client.Gender}\r\n                        onChange={this.handleChange}>\r\n                        <option value=\"NotSelected\"> </option>\r\n                        <option value=\"Male\">Male</option>\r\n                        <option value=\"Female\">Female</option>\r\n                        <option value=\"Other\">Other</option>\r\n                    </select>\r\n                </span>\r\n                <span class=\"td\"><input type=\"text\" value={this.state.client.Phone}\r\n                    onChange={this.handleChange}\r\n                    name=\"Phone\"\r\n                /></span>\r\n                <span class=\"td\"><input type=\"submit\" value=\"Save\" /></span>\r\n                <span class=\"td\"> <button onClick={this.handleDelete}>Delete</button></span>\r\n                <span class=\"td\"> <button onClick={this.handleHistory}>History</button></span>\r\n            </form>\r\n        )\r\n    }\r\n}\r\nconst TableValues = (props) => {\r\n    return (props.clients.map(client => <OneCient Client={client} getData={props.getData} />));\r\n}\r\nconst AddClient = (props) => {\r\n    return (\r\n        <button\r\n            onClick={() => props.addClient()}\r\n        >Add</button>\r\n    )\r\n}\r\nconst getData = async (myGetData) => {\r\n    var data;\r\n    if (test == 1)\r\n        data = testData;\r\n    else {\r\n        const resp = await axios.get(`http://localhost:58546/api/players`);\r\n        data = resp.data;\r\n    }\r\n    myGetData(data);\r\n}\r\nconst GetClients = (props) => {\r\n    return (\r\n\r\n        <button\r\n            onClick={() => getData(props.onClickClients)}\r\n        >Get Clients</button>\r\n    )\r\n}\r\n\r\n\r\nfunction Players() {\r\n    const [readClients, setReadClients] = useState([]);\r\n    let history = useHistory();\r\n    const onAddClient = () => { setReadClients(readClients.concat({})) }\r\n    const onGetData = (clientsArray) => {\r\n        console.log(clientsArray);\r\n        setReadClients(clientsArray);\r\n    }\r\n\r\n    //getData(onGetData);\r\n    return (\r\n        <div className=\"App\">\r\n            <header className=\"App-header\">\r\n                <div>\r\n                    <button onClick={() => history.push(\"home\")}>Home</button>\r\n                    <GetClients onClickClients={onGetData} />\r\n                    <AddClient addClient={onAddClient} />\r\n                </div>\r\n\r\n                <div class=\"table\">\r\n                    <TableHeader />\r\n                    <TableValues clients={readClients} getData={onGetData} />\r\n                </div>\r\n            </header>\r\n        </div>\r\n    );\r\n}\r\nexport default Players;\r\n"]},"metadata":{},"sourceType":"module"}