{"ast":null,"code":"import _objectSpread from \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\dev\\\\react\\\\Players\\\\myclients\\\\src\\\\Payment.js\";\nimport React, { useState, useEffect } from 'react';\nimport './Payment.css';\nimport axios from 'axios';\nimport { BrowserRouter as Router, useHistory, useLocation, Switch, Route, Link } from \"react-router-dom\";\n\nfunction PaymentForm(props) {\n  //  const location = useLocation();\n  console.log(props.client, \"form client\");\n\n  const _useState = useState(_objectSpread({}, props.client)),\n        _useState2 = _slicedToArray(_useState, 2),\n        client = _useState2[0],\n        setClient = _useState2[1];\n\n  console.log(props.client, \"form client1\");\n\n  const _useState3 = useState({}),\n        _useState4 = _slicedToArray(_useState3, 2),\n        payment = _useState4[0],\n        setPayment = _useState4[1];\n\n  const onGetData = paymet => {\n    console.log(paymet);\n    setPayment(paymet);\n  };\n\n  useEffect(() => {\n    getPaymentData(onGetData, client.ID);\n  }, []); // <-- empty dependency array\n\n  function handleChangeInt(evt) {\n    const value = evt.target.value;\n    let valInt = evt.target.value.replace(/\\D/, '');\n    handleChangeG(evt, valInt);\n  }\n\n  function handleChange(evt) {\n    const value = evt.target.value;\n    handleChangeG(evt, value);\n  }\n\n  function handleChangeG(evt, val) {\n    const paymentCopy = payment;\n    paymentCopy[evt.target.name] = val;\n    setPayment(_objectSpread({}, paymentCopy));\n  }\n\n  async function onSubmitForm(event) {\n    let jsonSent = {\n      payment: payment,\n      clienId: client.ID\n    };\n    console.log(jsonSent, \"jsonSent \");\n    event.preventDefault();\n    const resp = axios.post('http://localhost:58546/api/payment', jsonSent);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Payment method\"), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, client.Name), React.createElement(\"div\", {\n    class: \"formcontainer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: onSubmitForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \" Card no:\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"CardNo\",\n    pattern: \"[0-9]*\",\n    value: payment.CardNo,\n    onChange: handleChangeInt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \" Cv code:\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"CvCode\",\n    value: payment.CvCode,\n    onChange: handleChangeInt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \"Holder name:\", React.createElement(\"input\", {\n    type: \"text\",\n    name: \"HolderName\",\n    value: payment.HolderName,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"Validity date:\", React.createElement(\"input\", {\n    type: \"date\",\n    name: \"ValidityDate\",\n    value: payment.ValidityDate,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  })))));\n}\n\nfunction GetPayment(props) {\n  return React.createElement(\"button\", {\n    onClick: () => getPaymentData(props.onClickClients, props.clientId),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \" Get payment\");\n}\n\nconst getPaymentData = async (myGetData, clientId) => {\n  let add = `http://localhost:58546/api/payment/${clientId}`;\n  console.log(add);\n  const resp = await axios.get(add);\n  let data = resp.data;\n  myGetData(data);\n};\n\nconst Hist = props => {\n  const history = useHistory();\n\n  function handleHistory(event) {\n    event.preventDefault();\n    console.log(\"Payment\");\n    history.push({\n      pathname: '/' //  state: { client: props.client }\n\n    }); //  history.push(\"/home\");\n  }\n\n  return React.createElement(\"button\", {\n    onClick: handleHistory,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Back to Players\");\n};\n\nfunction Payment(props) {\n  let location = useLocation();\n  let tempClient = location.state.client;\n  console.log(tempClient, \"tmp\");\n\n  const _useState5 = useState(_objectSpread({}, tempClient)),\n        _useState6 = _slicedToArray(_useState5, 2),\n        client = _useState6[0],\n        setClient = _useState6[1];\n\n  console.log(client, \"client\");\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(PaymentForm, {\n    client: client,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }));\n}\n\nexport default Payment;","map":{"version":3,"sources":["C:/dev/react/Players/myclients/src/Payment.js"],"names":["React","useState","useEffect","axios","BrowserRouter","Router","useHistory","useLocation","Switch","Route","Link","PaymentForm","props","console","log","client","setClient","payment","setPayment","onGetData","paymet","getPaymentData","ID","handleChangeInt","evt","value","target","valInt","replace","handleChangeG","handleChange","val","paymentCopy","name","onSubmitForm","event","jsonSent","clienId","preventDefault","resp","post","Name","CardNo","CvCode","HolderName","ValidityDate","GetPayment","onClickClients","clientId","myGetData","add","get","data","Hist","history","handleHistory","push","pathname","Payment","location","tempClient","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Payment.css';\r\nimport axios from 'axios';\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    useHistory,\r\n    useLocation,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\n\r\nfunction PaymentForm(props) {\r\n    //  const location = useLocation();\r\n    console.log(props.client, \"form client\");\r\n    const [client, setClient] = useState({ ...props.client });\r\n    console.log(props.client, \"form client1\");\r\n    const [payment, setPayment] = useState({});\r\n\r\n    const onGetData = (paymet) => {\r\n        console.log(paymet);\r\n        setPayment(paymet);\r\n    }\r\n    useEffect(() => {\r\n        getPaymentData(onGetData, client.ID);\r\n    }, []); // <-- empty dependency array\r\n\r\n\r\n\r\n\r\n    function handleChangeInt(evt) {\r\n        const value = evt.target.value;\r\n        let valInt = evt.target.value.replace(/\\D/, '')\r\n        handleChangeG(evt, valInt);\r\n    }\r\n    function handleChange(evt) {\r\n        const value = evt.target.value;\r\n        handleChangeG(evt, value);\r\n    }\r\n    function handleChangeG(evt, val) {\r\n        const paymentCopy = payment;\r\n        paymentCopy[evt.target.name] = val;\r\n        setPayment({ ...paymentCopy });\r\n\r\n\r\n\r\n    }\r\n    async function onSubmitForm(event) {\r\n        let jsonSent = { payment: payment, clienId: client.ID };\r\n        console.log(jsonSent, \"jsonSent \");\r\n        event.preventDefault();\r\n        const resp = axios.post('http://localhost:58546/api/payment', jsonSent);\r\n\r\n    }\r\n    return (\r\n\r\n        <div >\r\n\r\n            <h2>Payment method</h2>\r\n            <h2>{client.Name}</h2>\r\n            <div class=\"formcontainer\">\r\n                <form onSubmit={onSubmitForm}>\r\n                    <label> Card no:</label>\r\n                    <input type=\"text\" name=\"CardNo\" pattern=\"[0-9]*\" value={payment.CardNo} onChange={handleChangeInt} ></input>\r\n                    <div>\r\n                        <label> Cv code:</label>\r\n                        <input type=\"text\" name=\"CvCode\" value={payment.CvCode} onChange={handleChangeInt}></input>\r\n                    </div>\r\n                    <div>Holder name:\r\n                <input type=\"text\" name=\"HolderName\" value={payment.HolderName} onChange={handleChange}></input>\r\n                    </div>\r\n                    <div>Validity date:\r\n                <input type=\"date\" name=\"ValidityDate\" value={payment.ValidityDate} onChange={handleChange}></input>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"submit\"></input>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nfunction GetPayment(props) {\r\n    return (\r\n        <button onClick={() => getPaymentData(props.onClickClients, props.clientId)}> Get payment\r\n        </button>\r\n    );\r\n}\r\n\r\nconst getPaymentData = async (myGetData, clientId) => {\r\n\r\n    let add = `http://localhost:58546/api/payment/${clientId}`;\r\n    console.log(add);\r\n    const resp = await axios.get(add);\r\n    let data = resp.data;\r\n\r\n    myGetData(data);\r\n}\r\n\r\nconst Hist = (props) => {\r\n    const history = useHistory();\r\n    function handleHistory(event) {\r\n        event.preventDefault();\r\n        console.log(\"Payment\");\r\n        history.push({\r\n            pathname: '/'\r\n            //  state: { client: props.client }\r\n        });\r\n        //  history.push(\"/home\");\r\n    }\r\n\r\n    return (\r\n        <button onClick={handleHistory}>Back to Players</button>\r\n    );\r\n\r\n}\r\nfunction Payment(props) {\r\n    let location = useLocation();\r\n    let tempClient = location.state.client;\r\n    console.log(tempClient, \"tmp\");\r\n    const [client, setClient] = useState({ ...tempClient });\r\n    console.log(client, \"client\");\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <div>\r\n\r\n            </div>\r\n\r\n            <PaymentForm client={client} />\r\n\r\n        </div>\r\n    );\r\n}\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}